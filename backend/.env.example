# ==================================================================================
# CIVILPROTECT V4.5 - CONFIGURACIÓN DE VARIABLES DE ENTORNO
# ==================================================================================
# 
# IMPORTANTE: 
# 1. Copiar este archivo a ".env" en el mismo directorio
# 2. Reemplazar TODOS los valores placeholder con valores reales
# 3. NUNCA commitear el archivo .env a Git
# 4. Regenerar JWT_SECRET_KEY con: python -c "import secrets; print(secrets.token_hex(32))"
#
# ==================================================================================

# ==================== DATABASE ====================
# URL de conexión a la base de datos
# SQLite (desarrollo): sqlite:///./data/civilprotect.db
# PostgreSQL: postgresql://user:password@localhost/dbname
# MySQL: mysql://user:password@localhost/dbname
DATABASE_URL=sqlite:///./data/civilprotect.db

# ==================== OPENAI API ====================
# API Key de OpenAI para funcionalidades de IA generativa
# Obtener en: https://platform.openai.com/api-keys
# REQUERIDO para: análisis de IA, enriquecimiento de contenido
OPENAI_API_KEY=sk-your-openai-api-key-here

# ==================== AUTENTICACIÓN JWT ====================
# Secret key para firmar JWT tokens
# ⚠️ CRÍTICO: GENERAR UNA CLAVE NUEVA Y SEGURA EN PRODUCCIÓN
# Generar con: python -c "import secrets; print(secrets.token_hex(32))"
JWT_SECRET_KEY=your-super-secret-jwt-key-change-this-in-production-min-64-chars

# Algoritmo de firma JWT (NO cambiar a menos que sepas lo que haces)
JWT_ALGORITHM=HS256

# Expiración de access token (en minutos)
# Desarrollo: 1440 (24 horas)
# Producción: 30 (30 minutos) - Recomendado
ACCESS_TOKEN_EXPIRE_MINUTES=30

# Expiración de refresh token (en días)
# Desarrollo: 30 días
# Producción: 7 días - Recomendado
REFRESH_TOKEN_EXPIRE_DAYS=7

# ==================== CORS (Cross-Origin Resource Sharing) ====================
# Lista de dominios autorizados para hacer requests al API (separados por coma)
# ⚠️ IMPORTANTE: NO usar "*" en producción (riesgo de seguridad)
#
# Desarrollo local:
ALLOWED_ORIGINS=http://localhost:3000,http://127.0.0.1:3000,http://localhost:8000
#
# Producción (descomentar y reemplazar con tus dominios reales):
# ALLOWED_ORIGINS=https://app.ejemplo.com,https://admin.ejemplo.com

# ==================== RATE LIMITING ====================
# Límites de requests por endpoint para prevenir ataques de fuerza bruta y DDoS
# Formato: número/unidad (second, minute, hour, day)
#
# Análisis (costoso en recursos):
RATE_LIMIT_ANALYZE=10/hour
# Login (prevenir brute force):
RATE_LIMIT_LOGIN=5/15minute
# Registro (prevenir spam de cuentas):
RATE_LIMIT_REGISTER=3/hour
# Global para usuarios autenticados:
RATE_LIMIT_GLOBAL_AUTH=100/hour
# Global para requests públicos:
RATE_LIMIT_GLOBAL_PUBLIC=50/hour

# ==================== SEGURIDAD ====================
# Habilitar modo debug
# ⚠️ NUNCA activar en producción (expone información sensible)
# Desarrollo: True
# Producción: False
DEBUG=False

# Habilitar logging de intentos de abuso (rate limiting violations)
SECURITY_LOGGING=True

# Nivel de logging (DEBUG, INFO, WARNING, ERROR, CRITICAL)
# Desarrollo: DEBUG o INFO
# Producción: WARNING o ERROR
LOG_LEVEL=INFO

# ==================== SERVIDOR ====================
# Host del servidor
# Desarrollo: localhost o 127.0.0.1
# Producción: 0.0.0.0 (escuchar en todas las interfaces)
SERVER_HOST=0.0.0.0

# Puerto del servidor
# Por defecto: 8000
# Producción: 80 (HTTP) o 443 (HTTPS) con proxy reverso
SERVER_PORT=8000

# Número de workers de Uvicorn (solo para producción)
# Recomendado: 2-4 x número de CPU cores
# Ejemplo: 4 cores → 8-16 workers
WORKERS=4

# ==================== ENTORNO ====================
# Entorno de ejecución
# Valores: development, staging, production
ENV=production

# Nombre de la aplicación (para logs y documentación)
APP_NAME=CivilProtect API

# Versión de la aplicación
APP_VERSION=4.5.0

# ==================== FEATURE FLAGS ====================
# Habilitar/deshabilitar funcionalidades específicas
# Útil para activar/desactivar features sin cambiar código
#
# Enriquecimiento de contenido con IA:
ENABLE_AI_ENRICHMENT=True
# Monitor legislativo automático:
ENABLE_LEGISLATIVE_MONITOR=True
# Generación de reportes PDF:
ENABLE_PDF_GENERATION=True
# Generación de reportes HTML:
ENABLE_HTML_REPORTS=True

# ==================== PATHS (Directorios) ====================
# Directorio para almacenar PDFs generados
PDF_OUTPUT_DIR=./pdfs

# Directorio para archivos de base de datos
DATA_DIR=./data

# Directorio para archivos de logs
LOG_DIR=./logs

# ==================================================================================
# NOTAS ADICIONALES:
# ==================================================================================
#
# VALIDACIÓN:
# -----------
# Ejecutar: python check_env.py
# Para verificar que todas las variables requeridas están configuradas
#
# SEGURIDAD:
# ----------
# 1. Nunca compartir este archivo con valores reales
# 2. Rotar JWT_SECRET_KEY regularmente en producción
# 3. Usar secretos manejados por el proveedor de cloud en producción
#    (AWS Secrets Manager, Azure Key Vault, Google Secret Manager, etc.)
# 4. Verificar que .env está en .gitignore
#
# DESARROLLO vs PRODUCCIÓN:
# -------------------------
# Desarrollo:
#   - DEBUG=True
#   - ACCESS_TOKEN_EXPIRE_MINUTES=1440 (24h)
#   - ALLOWED_ORIGINS=localhost
#   - LOG_LEVEL=DEBUG
#
# Producción:
#   - DEBUG=False
#   - ACCESS_TOKEN_EXPIRE_MINUTES=30
#   - ALLOWED_ORIGINS=dominios específicos
#   - LOG_LEVEL=WARNING
#   - JWT_SECRET_KEY=clave única y segura
#   - Usar HTTPS siempre
#
# ==================================================================================
